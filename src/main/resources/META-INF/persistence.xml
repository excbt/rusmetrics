<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.1" xmlns="http://xmlns.jcp.org/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd">

	<persistence-unit name="nmk-p" transaction-type="RESOURCE_LOCAL">

		<provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>

 		<non-jta-data-source>java:comp/env/jdbc/nmkDBctx</non-jta-data-source>

		<properties>
			<property name="hibernate.dialect" value="ru.excbt.datafuse.hibernate.dialect.JSONBPostgreSQLDialect" />
			<property name="hibernate.hbm2ddl.auto" value="validate" />
			<property name="hibernate.show_sql" value="true"/>		
			<property name="hibernate.format_sql" value="true"/>
<!-- 			<property name="hibernate.temp.use_jdbc_metadata_defaults" value="false"/>	 -->
		</properties>

	</persistence-unit>
	
	<!--  -->
<!-- 	<persistence-unit name="dataraw" transaction-type="RESOURCE_LOCAL"> -->

<!-- 		<provider>org.hibernate.jpa.HibernatePersistenceProvider</provider> -->

<!--  		<non-jta-data-source>java:comp/env/jdbc/datarawDBctx</non-jta-data-source> -->

<!-- 		<properties> -->
<!-- 			<property name="hibernate.dialect" value="ru.excbt.datafuse.hibernate.dialect.JSONBPostgreSQLDialect" /> -->
<!-- 			<property name="hibernate.hbm2ddl.auto" value="validate" /> -->
<!-- 			<property name="hibernate.show_sql" value="true"/>		 -->
<!-- 			<property name="hibernate.format_sql" value="true"/> -->
<!-- 			<property name="hibernate.temp.use_jdbc_metadata_defaults" value="false"/>	 -->
<!-- 		</properties> -->

<!-- 	</persistence-unit>	 -->
	
</persistence>

<!-- 
Example Resource 
<Resource
   name="jdbc/nmkDBctx"
   auth="Container"
   type="javax.sql.DataSource"
   factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
   initialSize="5"
   maxActive="55"
   maxIdle="21"
   minIdle="13"
   timeBetweenEvictionRunsMillis="34000"
   minEvictableIdleTimeMillis="55000"
   validationQuery="SELECT 1"
   validationInterval="34"
   testOnBorrow="true"
   removeAbandoned="true"
   removeAbandonedTimeout="233"
   username="dbuser1"
   password="exbt_123456"
   driverClassName="org.postgresql.Driver"
   url="jdbc:postgresql://192.168.84.248:5432/datafuse?useUnicode=yes&amp;characterEncoding=UTF-8"
/>  

 -->