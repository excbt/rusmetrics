<!--
<div role="tabpanel" class="nmc-main-tab-panel">
  
    <ul class="nav nav-tabs" role="tablist">
        <li id="object_list_2nd_menu_item" role="presentation" class=""><a id="monitorTab" class="nmc-main-tab-button" href="#/" aria-controls="objects" data-target="#objects" role="tab" data-toggle="tab">Список объектов</a></li>
        <li id="monitor_map_2nd_menu_item" ng-hide="isTestMode()" role="presentation" class="nmc-hide"><a class="nmc-main-tab-button" href="#/notices/monitor_map" aria-controls="monitor_map" role="tab" data-target="#monitor_map" data-toggle="tab">Карта</a></li>        
        <li id="notice_2nd_menu_item" ng-hide="isCabinet()" role="presentation"><a class="nmc-main-tab-button" href="#/notices/list" aria-controls="notices" role="tab" data-target="#notices" data-toggle="tab">Уведомления</a></li>        
        
        <li ng-if="isSystemuser()" id="object_map_2nd_menu_item" role="presentation">
            <a class="nmc-main-tab-button" 
               href="#/objects/demo-map/" 
               aria-controls="objects_map" 
               role="tab" 
               data-target="#objects_map" 
               data-toggle="tab"
               >
                Демо-карта
            </a>
        </li>
        <li id="document_list_2nd_menu_item" role="presentation" class="active"><a id="documentTab" class="nmc-main-tab-button" href="" aria-controls="documents" data-target="#documents" role="tab" data-toggle="tab">Документы</a></li>
    </ul> 

    <div class="tab-content">
      <div role="tabpanel" class="tab-pane fade in active" id="documents">
      </div>
    </div>
</div>
-->

<div role="tabpanel" class="nmc-tab-panel">

  <!-- Навигационная полоса -->
<!--
  <ul class="nav nav-tabs" role="tablist">
    <li id="document_energo_passport_3rd_menu_item" 
        role="presentation" 
        class="active">
        <a class="nmc-tab-button" 
           href="" 
           aria-controls="energo_passports" 
           data-target="#energo_passports" 
           role="tab" 
           data-toggle="tab">Энергетические декларации
        </a>
      </li>
   <li id="document_energo_declaration_3rd_menu_item" 
       role="presentation" 
       class="">
       <a class="nmc-tab-button" 
          href="#/documents/energo-declarations/" 
          aria-controls="energo_declarations" 
          data-target="#energo_declarations" 
          role="tab" 
          data-toggle="tab">Энергетические паспорта</a></li>  
  </ul>
-->
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane fade in active nmc-main-tab-panel" id="active_energy_documents">
            <div  ng-show="ctrlSettings.loading" class="nmc-loading">
                <i class="fa fa-spinner fa-spin"></i> Загрузка ... 
            </div>
            <div ng-show="!ctrlSettings.loading">
                <div class="row nmc-main-workspace-header">
                    <div class="col-xs-3 marginBottom10">
                        <button class="btn nmc-main-add-button" ng-click = "createEnergyDocumentInit()">Создать документ</button>
                    </div>
                    <div class="col-xs-7"></div>
                    <div class="input-group col-xs-4 filter marginBottom10 pull-left nmc-search-form">   
                        <span class="input-group-addon nmc-search-form-addon"><i class="glyphicon glyphicon-search nmc-search-form-button"></i></span>
                        <input title="Введите текст для поиска" type="text" class="form-control nmc-text-input-form" ng-model="filter">
                    </div>
                    <div class="col-xs-offset-2 col-xs-2">
                    </div>
                </div>
                
                                        <!--    Непрокручиваямая шапка -->
                <table class="crud-grid table table-lighter table-striped table-condensed table-hover nmc-main-table noMargin">
                        <tr class="nmc-main-table-header">
                            <th class="col-xs-1 nmc-td-for-button">

                            </th>
                            <th ng-repeat="column in ctrlSettings.passportColumns" ng-class="column.class" ng-click="setOrderBy(column.name)">
                                {{column.caption}}
                                <i class="glyphicon" ng-class="{'glyphicon-sort-by-alphabet': orderBy.asc, 'glyphicon-sort-by-alphabet-alt': !orderBy.asc}" ng-show="orderBy.field == '{{column.name}}'"></i>
                            </th>
                
                            <th class="col-xs-1">
                            </th>
                
                        </tr>
                </table>

                <div class = "nmc-energo-passport-main-div">
                    <table class = "crud-grid table table-lighter table-striped table-condensed table-hover nmc-main-table">
                        <tr class = "nmc-main-table-header nmc-hide">
                            <th class = "col-xs-1 nmc-td-for-button">

                            </th>
                            <th ng-repeat = "column in ctrlSettings.passportColumns" ng-class = "column.class" ng-click = "setOrderBy(column.name)">
                                {{column.caption}}
                                <i class = "glyphicon" 
                                   ng-class = "{'glyphicon-sort-by-alphabet': orderBy.asc, 'glyphicon-sort-by-alphabet-alt': !orderBy.asc}" 
                                   ng-show = "orderBy.field == '{{column.name}}'">
                                </i>
                            </th>
                
                            <th class="col-xs-1">
                            </th>
                
                        </tr>

                        <tr ng-repeat="elm in data.passports | orderBy:orderBy.field:!orderBy.asc | filter: filter" >
                            <td class="col-xs-1 nmc-td-for-button">
                                <div class="btn-toolbar">
                                    <div class="btn-group">
                                        <i title = "Редактировать свойства документа" 
                                           class="btn btn-xs glyphicon glyphicon-edit nmc-button-in-table" 
                                           ng-click="editEnergyDocument(elm)">
                                        </i>

                                    </div>
                                </div>
                            </td>
                            <td ng-repeat="column in ctrlSettings.passportColumns"                                 
                                ng-class="column.class"
                                ng-click = "openEnergyDocument(elm)">
                                <div ng-switch on="column.type">
                                    <span ng-switch-when="name" ng-class="">
                                        {{elm[column.name] || "Без названия"}}
                                        <span ng-show="isSystemuser()"> (id = {{elm['id']}})</span>
                                    </span>
                                    <span ng-switch-when="checkbox" ng-class="">
                                        <input type="checkbox" ng-model="elm[column.name]" disabled/>
                                    </span>
                                    <span ng-switch-when="date">
                                        {{elm[column.name] | date:'dd.MM.yyyy'}}
                                    </span>
                                    <span ng-switch-when="doctype">
<!--                                        <img src = "" alt = "Д" class = "img-circle"/>-->
                                        <p class = "btn btn-xs btn-default"
                                           style = "border-radius: 50%">
                                            Д
                                        </p>
                                    </span>
                                    <span ng-switch-default >
                                        {{elm[column.name]}}
                                    </span>
                                </div>
                            </td>

                
                            <td class="col-xs-1">
                                <div class="btn-toolbar">
                                    <div class="btn-group pull-right">                   
                                        <i title = "Удалить документ" 
                                           class = "btn btn-xs glyphicon glyphicon-trash nmc-button-in-table" 
                                           ng-click = "deleteEnergyDocumentInit(elm)" 
                                           ></i>
                                    </div>
                                </div>
                            </td>
                
                        </tr>
                    </table>
                </div>
                
            </div>


        </div>
    </div>
</div>

<!--Show document preperties-->
<div id = "showDocumentPropertiesModal" 
     class = "modal fade nmc-modal-window" 
     role = "dialog"
     aria-labelledby = "showDocumentPropertiesLabel" 
     tabindex = "-1" 
     data-backdrop = "static">
	<div class = "modal-dialog  modal-content nmc-modal-dialog">
		<div class = "modal-header nmc-modal-header">
            <button type = "button" 
                    class = "close nmc-close-button" 
                    data-dismiss = "modal" 
                    aria-label = "Close">
                <span aria-hidden = "true">&times;</span>
            </button>
			<h3 id = "showDocumentPropertiesLabel" 
                class = "nmc-h3">
				Документ
			</h3>
		</div>
		<div class = "modal-body nmc-modal-body paddingLeftRight15">
            <div class = "container-fluid">
                <div class = "row">
                    <div class = "col-md-12 well noPaddingBottom marginBottom10 nmc-modal-panel-with-table" style="">
                        <table class = "table table-lighter table-striped table-condensed table-hover noMarginBottom nmc-modal-main-table">
                            <tr>
                                <td class = "col-sm-3">
                                    <label for = "inputEnergyDocType">Тип</label>
                                    <span style = "color:red;">*</span>
                                </td>
                                <td class = "col-sm-9 nmc-text-align-left">
                                    <div class = "form-group noMarginBottom" 
                                         ng-class = "{'has-error': emptyString(data.currentDocument.type)}">
<!--
                                        <input  
                                               class = "form-control nmc-text-input-form" 
                                               type = "text" 
                                               id = "inputEnergyDocType" 
                                               ng-model = "data.currentDocument.type"                                                
                                               disabled/>
-->
                                        <select  
                                               class = "form-control nmc-select-form"                                                 
                                               id = "inputEnergyDocType" 
                                               ng-model = "data.currentDocument.type"
                                                ng-options = "dt.name as dt.caption for dt in data.documentTypes"
                                               disabled>
                                            
                                        </select>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class = "col-sm-3">
                                    <label for = "inputEnergyDocName">Название</label>
                                    <span style = "color:red;">*</span>
                                </td>
                                <td class = "col-sm-9 nmc-text-align-left">
                                    <div class = "form-group noMarginBottom" 
                                         ng-class = "{'has-error': emptyString(data.currentDocument.passportName)}">
                                        <input  
                                               class = "form-control nmc-text-input-form" 
                                               type = "text" 
                                               id = "inputEnergyDocName" 
                                               ng-model = "data.currentDocument.passportName" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for = "inputEnergyDocDescription" >Описание</label>
                                </td>
                                <td class = "nmc-text-align-left">
                                    <textarea class = "form-control nmc-textarea-form" 
                                              id = "inputEnergyDocDescription" 
                                              placeholder = "Описание" 
                                              ng-model = "data.currentDocument.description">
                                    </textarea>
                                </td>
                            </tr>
                            <tr>
                                <td class = "col-sm-3">
                                    <label for = "inputEnergyDocDate" 
                                           class = "nmc-form-label">Дата документа</label>
                                </td>
                                <td class = "col-sm-9 nmc-text-align-left">
                                    <span class = "form-group" 
                                          >
                                        <input id = "inputEnergyDocDate" 
                                               class = "form-control nmc-date-input-form" 
                                               type = "text"                                                                                               
                                               ng-model = "data.currentDocument.docDateFormatted"
                                               readonly
                                               disabled/>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td colspan = "2">
                                    Поля отмеченные <span style = "color:red;">*</span> обязательны для заполнения!
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
		</div>
		<div class = "modal-footer nmc-modal-footer">
				<div class = "container-fluid  ">

					<div class = "row">
                        <div class = "col-xs-offset-6 col-md-3">
							<input type = "submit" 
                                   class = "btn btn-primary btn-block btn-xs nmc-save-button"
                                   ng-click = "saveEnergyDocument(data.currentDocument)"
                                   ng-disabled = "data.currentDocument.id != null"
                                   value = "Сохранить" />
						</div>
						<div class = "pull-right col-xs-offset-2 col-md-3 noMargin noPadding">
							<button class = "btn btn-default btn-block btn-xs nmc-cancel-button" 
                                    data-dismiss = "modal"
                                    ng-click = "exit('#data.currentDocument')">
								Отменить
							</button>
						</div>
					</div>
				</div>
		</div>
	</div>
</div>

<!--   delete -->
<div nmc-view-delete-modal-window 
     message = "{{data.currentDeleteMessage}}"      
     confirm-label = "{{confirmLabel}}"
     control-code = "{{sumNums}}"
     is-systemuser = "isSystemuser()"
     delete-item-click = "deleteEnergyDocument(data.currentDocument)">
</div>
    