<!--<div><a href="#/">Портал</a> / <a href="#/objects_edit/" >Объекты </a> / Системы - точки учета</div>-->
<!--
<div>
    <ul class="breadcrumb marginBottom10">
        <li><a href="#/">Портал</a> <span class="divider"></span></li>
        <li><a href="#/objects_edit/">Объекты</a><span class="divider"></span></li>
        <li class="active">Системы - точки учета</li>
    </ul>
</div> 
-->
<div class="col-md-10 noPadding"><h2 class="noMargin pageTitle">Показания &lt; {{contObjectName}} &gt; - &lt; {{contZPointName}} &gt;</h2></div>
<div class="col-md-2">
    <div class="btn-group">
        <i ng-disabled="data.length==0" class="btn btn-lg glyphicon glyphicon-download" ng-click="saveIndicatorsToFile()"></i>
        <i ng-disabled="notices.length==0" class="btn btn-lg glyphicon glyphicon-stats" ng-click="runChart()"></i>
    </div>    
</div>  
<div class="col-md-12 noPadding marginBottom10">
    <hr class="noMargin">
</div>

<div class="container-fluid">
    <div class="row">   
        <div class="col-md-12 noPadding marginBottom10">
            <div class="col-md-4 noPadding">
                <div class="col-md-4 paddingTop5">
                    <label >

                        Задайте интервал дат</label>
                </div>    
                <div ng-controller="DataRangeSettings" class="col-md-8">
                        <div class="input-group">
                            <span class="input-group-addon excbt_inputGroupAddon">с</span>
                            <input date-range-picker class="form-control excbt_inputFormControl date-picker excbt_noLeftBorder"
                                type="text" ng-model="navPlayerDates" options="queryDateOptsRu" />
                        </div>
                </div>

            </div>
            <div class="col-md-3">
                    <div class="col-md-3 paddingTop5">            
                            <label >
                                 Показания</label>
                    </div>
                    <div class="col-md-9">
                        <select class="form-control excbt_inputFormControl inputData" ng-model="timeDetailType" ng-change="getData(1)">
                            <option value="24h">Суточные</option>
                            <option selected value="1h">Часовые</option>
                        </select>
                    </div>
            </div>
              <div class="col-md-5">    
 
                 <div class="col-md-7">
                    <label>Записей на странице:</label>
            <!--         <input type="number" min="1" max="100" class="form-control inputDigitalData" ng-model="noticesPerPage">-->
                    <select class="form-control inputDigitalData excbt_inputFormControl" ng-model="indicatorsPerPage"    >
                        <option>5</option>
                        <option>10</option>
                        <option>20</option>
                        <option>25</option>
                        <option>50</option>
            <!--            <option>100</option>-->
                    </select>
                </div>
                <div class="col-md-5">
                    <label >Всего:</label>
                     <input type="text" disabled class="form-control excbt_viewDataCount excbt_inputFormControl" ng-model="totalIndicators">
                </div>
                
            </div>
        </div>    
    </div>
    
    <div class="row">
        <table class="excbt_table_oneLineData" ng-class="tableDef.tableClass">
            <tr ng-class="tableDef.headerClassTR">
                <th ng-repeat="column in tableDef.columns" ng-class="column.headerClass">
                    {{column.header}}
                </th>

            </tr>
            <tr dir-paginate="indicator in data | filter: indicatorsfilter | itemsPerPage: indicatorsPerPage" total-items="totalIndicators" current-page="pagination.current">
                <td ng-repeat="column in tableDef.columns" class="textAlign_right" ng-class="column.dataClass || column.headerClass">
                    {{indicator[column.fieldName]}}
                </td>
            </tr>
        </table>
        <div class="col-md-9">
            <dir-pagination-controls on-page-change="pageChanged(newPageNumber)" template-url="bower_components/angular-utils-pagination/dirPagination.tpl.html"></dir-pagination-controls>
        </div>

    <!--
        <div class="col-md-3 noPadding">
                 <div class="input-group">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
                     <input type="text"  class="form-control"  ng-model="indicatorsfilter">
                </div>     
        </div> 
    -->
    </div>    
<!--    In total-->
    <div class="row" ng-show="data.length >0">
        <table class="crud-grid table table-lighter table-condensed table-hover tableIndicators">
            <tr class="info">
                <th class="col-md-1">
                </th>
                <th ng-repeat="column in intotalColumns" ng-class="column.class">
                    {{column.header}}
<!--                        <img class="divergenceIndicatorImg" src="images/plug.png">-->
<!--
                        <img class="divergenceIndicatorImg hideM" src="images/divergenceIndicatorAlert.png" ng-class="{'hideM':!divergenceIndicatorAlert_flag, 'showM':divergenceIndicatorAlert_flag}">
                        <img class="divergenceIndicatorImg hideM" src="images/divergenceIndicatorCrit.png" ng-class="{'hideM':!divergenceIndicatorCrit_flag, 'showM':divergenceIndicatorCrit_flag}">
-->
                        <img ng-class="column.imgclass" ng-src="{{column.imgpath}}" ng-attr-title="{{column.hint}}"/>
                </th>
            </tr>
            <tr>
                <td class="col-md-1">итого:</td>
                <td ng-repeat="column in intotalColumns">
                    {{summary.totals[column.name]}}
                </td>
            </tr> 
            <tr>
                <td class="col-md-1">интеграторы:</td>
                <td ng-repeat="column in intotalColumns" ng-dblclick="toggleDetail(summary.lastData)">
<!--                    ng-attr-title="{{setTitle(column.name)}} "-->
                    {{summary.diffs[column.name]}}
                    <div ng-show="summary.lastData.detail">
                        <div>Начальное значение = {{summary.firstData[column.name]}}</div>
                        <div>(Дата = {{summary.firstData['dataDate']| date: 'dd.MM.yyyy HH:mm'}});</div>
                        <div>Конечное значение = {{summary.lastData[column.name]}} </div>
                        <div>(Дата = {{summary.lastData['dataDate'] | date: 'dd.MM.yyyy HH:mm'}});</div>
                    </div>
                </td>
            </tr>   
        </table>    
    </div>    
</div>

<!-- Окно с графиком-->
<div id="chartModal" class="modal fade" role="dialog"
	aria-labelledby="chartLabel" tabindex="-1">

	<div class="modal-dialog  modal-content modalWindow_moreWide">

		<div class="modal-header">
			<h3 id="showNoticeLabel">
				График потребления ГКал. 
			</h3>
		</div>
		<div class="modal-body">
            <div id="indicatorChart" class="paddingBottom40">
                <div id="indicatorChart-area"></div>
		  </div>
 

        </div>     
		<div class="modal-footer">
				<div class="container-fluid dialogMarginButtons">

					<div class="row">


						<div class="col-xs-offset-2 col-md-3 pull-right">
							<button class="btn btn-xs btn-default btn-primary btn-block" data-dismiss="modal"
								ng-click="exit();">
								Ок
							</button>
						</div>
					</div>
				</div>		
		</div>

	</div>
</div>