<div role="tabpanel" class="nmc-main-tab-panel">

  <!-- Навигационная полоса -->
    <ul class="nav nav-tabs" role="tablist">
        <li id="object_list_2nd_menu_item" role="presentation" class=""><a id="monitorTab" class="nmc-main-tab-button" href="#/" aria-controls="objects" data-target="#objects" role="tab" data-toggle="tab">Список объектов</a></li>
        <li id="monitor_map_2nd_menu_item" ng-hide="isTestMode()" role="presentation" class="nmc-hide"><a class="nmc-main-tab-button" href="#/notices/monitor_map" aria-controls="monitor_map" role="tab" data-target="#monitor_map" data-toggle="tab">Карта</a></li>        
        <li id="notice_2nd_menu_item" ng-hide="isCabinet()" role="presentation"><a class="nmc-main-tab-button" href="#/notices/list" aria-controls="notices" role="tab" data-target="#notices" data-toggle="tab">Уведомления</a></li>        
        
        <li ng-if="isSystemuser()" id="object_map_2nd_menu_item" role="presentation">
            <a class="nmc-main-tab-button" 
               href="#/objects/demo-map/" 
               aria-controls="objects_map" 
               role="tab" 
               data-target="#objects_map" 
               data-toggle="tab"
               >
                Демо-карта
            </a>
        </li>
<!--
        <li ng-hide="isTestMode() || !isRma() || objects.length <= 0" role="presentation" class="pull-right">
            <i               
               title="Загрузка показаний из файлов"               
               class="btn btn-sm glyphicon glyphicon-download-alt gly-rotate-180"
               aria-controls="upload_files" 
               role="tab"
               data-target="#upLoadFilesModal" 
               data-toggle="modal">                
            </i>
        </li>
-->
        <li id="document_list_2nd_menu_item" role="presentation" class="active"><a id="documentTab" class="nmc-main-tab-button" href="" aria-controls="documents" data-target="#documents" role="tab" data-toggle="tab">Документы</a></li>
<!--
        <li>
            <input ng-disabled="true" 
               type="submit" 
               class="btn btn-primary btn-block btn-xs nmc-save-button" 
               ng-click="" 
               value="Сохранить" 
            />
        </li>
        <li>
            <button class="btn btn-default btn-block btn-xs nmc-cancel-button"             
                    ng-click="cancelEnergoPassportEdit()">
                Отменить
            </button>
        </li>
-->        
        <li style = "padding: 0 10px;">
            <button disabled class="btn nmc-main-add-button">Сохранить</button>
        </li>        
        <li>
            <button class="btn btn-default nmc-cancel-button"
                    style = "padding: 3px 10px;"
                    ng-click="cancelEnergoPassportEdit()">
                Отменить
            </button>
        </li>
    </ul>
    <div class="tab-content">
      <div role="tabpanel" class="tab-pane fade in active" id="documents">
      </div>
    </div>
</div>
<div id = "divWithEnergoPassport" class="" ng-cloak>
    <div class = "container-fluid">
        <div class = "row">
            <div class = "col-xs-2 noPadding nmc-energo-passport-main-div nmc-div-bordered"
                 ng-class = "{'nmc-energo-contents-minimize': !showContentsFlag}"
                 style = "">
                <h3 class="nmc-h3"
                    style = "height: 1.5rem;">
                    <span ng-show = "showContentsFlag">Содержание</span>
                </h3>
                <table id="table_objects_in_window" 
                       class = "table table-striped table-condensed table-hover nmc-modal-table-with-chkbx">
                    <tr ng-repeat="part in passDocStructure"
                        ng-click = "contentsPartSelect(part)"
                        ng-class = "{'nmc-bg-distinguish': part.isSelected === true}">
                        <td style = "padding-right: 5px !important;">
                            {{part.shortCaption}}
                        </td>
                        <td ng-show = "showContentsFlag">
                            {{part.caption}}
                        </td>
                    </tr>
                </table>
            </div>
            <div class = "">
                <span class="">
                    <div class = "nmc-div-delimiter"                         
                       title="Скрыть / показать содержание энергетического паспорта" 
                        
                       ng-click="showContentsFlag = !showContentsFlag" 
                       >
                    </div>
                    
                    <i style = "position: fixed; top: 40%; z-index: 1; margin-left: -5px; opacity: 0;"
                       title="Скрыть / показать содержание энергетического паспорта" 
                       class="btn btn-lg glyphicon glyphicon-menu-left noPadding" 
                       ng-click="showContentsFlag = !showContentsFlag" 
                       ng-class="{'glyphicon-menu-left': showContentsFlag, 'glyphicon-menu-right': !showContentsFlag}">
                    </i>
                </span>
            </div>
            <div class = "col-xs-10 nmc-energo-passport-main-div"
                 ng-class = "{'nmc-energo-passport-maximize': !showContentsFlag}">
                
                <h3 class="nmc-h3">
                    Энергетический паспорт
                </h3>
                <div  ng-show="ctrlSettings.passportLoading" class="nmc-loading">
                    <i class="fa fa-spinner fa-spin"></i> Загрузка паспорта... 
                </div>
<!--                                PassDoc-->
                <div id = "passDoc"
                     ng-show = "!ctrlSettings.passportLoading">
                    <h4>
                        {{currentPassDocPart.caption}}
                    </h4>
                    <div ng-switch = "currentPassDocPart.viewType">
                        <div ng-switch-default>
                            <div ng-repeat = "part in currentPassDocPart.parts">
                                <div ng-switch = "part.partType">
                                    <div ng-switch-when = "SIMPLE_LINE"
                                         style = "padding: 5px 0;">
                                        <div ng-repeat = "elm in part.elements"
                                             style = "display: inline-block; padding: 0 10px;">
                                            <span ng-if = "elm.cellType !== 'VALUE'"> 
                                                {{elm.caption}}
                                            </span>
                                            <input ng-if = "elm.cellType === 'VALUE' && elm.__type !== 'Boolean'" 
                                                   type = "text"
                                                   style = "width: 100%; border: 0; border-bottom: 1px solid;"/>
                                            <input ng-if = "elm.cellType === 'VALUE' && elm.__type === 'Boolean'" 
                                                   type = "checkbox"
                                                   style = ""/>
                                        </div>
                                    </div>
                                    <div ng-switch-when = "INNER_TABLE"
                                         style = "padding: 10px 0px;">
                                        <table border = "1"
                                               class = "nmc-energo-table"
                                               style = "border: 1px; background-color: #fff;"
                                               ng-style = "{'width': table.width + ctrlSettings.cssMeasureUnit, 'max-width': table.maxWidth + ctrlSettings.cssMeasureUnit}">
<!--
                                            <thead ng-repeat = "thead in part.innerPdTable.theads track by $index"
                                                   ng-if = "thead.partType === 'HEADER'">
-->
<!--                                                <tr ng-repeat = "throw in thead.headerRows track by $index">-->
                                            <thead>
                                                <tr ng-repeat = "throw in part.innerPdTable.theads track by $index">    
                                                    <th ng-repeat = "th in throw"
                                                        ng-attr-rowspan = "{{th._rowSpan}}"
                                                        ng-attr-colspan = "{{th._colSpan}}"
                                                        ng-style = "{'width': th.width + ctrlSettings.cssMeasureUnit, 'max-width': th.width + ctrlSettings.cssMeasureUnit}">
                                                        {{th.caption}}
                                                    </th>
                                                </tr>
                                            </thead>
<!--                                            </thead>    -->

                                            <tr ng-repeat = "trow in part.innerPdTable.tbodies track by $index">
<!--                                                ng-if = "trow.partType === 'ROW'">-->
<!--                                                <td ng-repeat = "td in trow.elements track by $index"-->
                                                <td ng-repeat = "td in trow track by $index"    
                                                    ng-attr-colspan = "{{td._colSpan}}"
                                                    ng-attr-rowspan = "{{td._rowSpan}}"
                                                    ng-class = "{'nmc-td-no-edit': td.cellType !== 'VALUE' || td.__type === 'Counter'}"
                                                    ng-style = "{'width': trow._columnWidths[$index] + ctrlSettings.cssMeasureUnit, 'max-width': trow._columnWidths[$index] + ctrlSettings.cssMeasureUnit}"

                                                    ng-model = "td.valueDev1"                                                            
                                                    >                                                            
                                                    <div ng-if = "td.cellType !== 'VALUE'">
                                                        {{td.caption}}
                                                    </div>
                                                    <div ng-if = "td.cellType === 'VALUE' && td.__type === 'Counter'">
                                                        {{td.value}}
                                                    </div>
                                                    <div ng-if = "td.cellType === 'VALUE' && (td.__type === 'String' || td.__type === 'DoubleAgg')"
                                                         contenteditable
                                                         strip-br
                                                         ng-blur = "tdBlur(td)"
                                                         ng-model = "td.valueDev"
                                                         >
                                                    </div>
                                                    <input ng-if = "td.cellType === 'VALUE' && td.__type === 'Boolean'" 
                                                           type = "checkbox"
                                                           ng-blur = "tdBlur(td)"
                                                           ng-model = "td.valueDev"
                                                           style = ""/>
                                                    <input ng-if = "td.cellType === 'VALUE' && (td.__type !== 'String' && td.__type !== 'Boolean' && td.__type !== 'DoubleAgg' && td.__type !== 'Counter')" 
                                                           type = "text"
                                                           data-inputmask = "'alias':'numeric', 'greedy': false"
                                                           style = "width: 100%; border: 0"
                                                           ng-blur = "tdBlur(td)"
                                                           ng-model = "td.valueDev"
                                                           />

                                                </td>
                                                <td ng-if = "part.innerPdTable.parts[1].dynamic === true"
                                                    style = "border-right: 0; border-top: 0; border-bottom: 0"
                                                    ng-attr-rowspan = "3">                                                    
                                                    <i class = "btn btn-xs btn-default btn-xs"
                                                       ng-click = "deleteRowFromTable(part, $index)">
                                                        Удалить
                                                    </i>
                                                </td>
                                                <td ng-if = "part.innerPdTable.parts[1].dynamic === true && $last"
                                                    style = "border: 0"
                                                    ng-attr-rowspan = "3">
                                                    <i 
                                                       class = "btn btn-xs btn-primary btn-xs"
                                                       ng-click = "addRowToTable(part)">
                                                        Добавить
                                                    </i>                                                    
                                                </td>
                                            </tr>
                                        </table>
                                        <div ng-if = "part.innerPdTable.parts[1].dynamic === true">
                                            <button ng-click = "addRowToTable(part);"> Добавить строку</button>
                                        </div>
                                    </div>
                                    <div ng-switch-default>
                                        {{part | json}}
                                    </div>
                                </div>

                            </div>
                        </div>
<!--
                        <div ng-switch-when = "TABLE">
                            <table border = "1"
                                   class = "nmc-energo-table"
                                   style = "border: 1px; background-color: #fff;"
                                   ng-style = "{'width': table.width + ctrlSettings.cssMeasureUnit, 'max-width': table.maxWidth + ctrlSettings.cssMeasureUnit}">
                                <thead ng-repeat = "thead in currentPassDocPart.parts track by $index"
                                       ng-if = "thead.partType === 'HEADER'">
                                    <tr ng-repeat = "throw in thead.headerRows track by $index">
                                        <th ng-repeat = "th in throw"
                                            ng-attr-rowspan = "{{th._rowSpan}}"
                                            ng-attr-colspan = "{{th._colSpan}}">
                                            {{th.caption}}
                                        </th>
                                    </tr>
                                </thead>    

                                <tr ng-repeat = "trow in currentPassDocPart.parts track by $index"
                                    ng-if = "trow.partType === 'ROW'">
                                    <td ng-repeat = "td in trow.elements track by $index"
                                        ng-attr-colspan = "{{td._colSpan}}"

                                        ng-class = "{'nmc-td-no-edit': td.cellType !== 'VALUE'}"
                                        ng-style = "{'width': trow._columnWidths[$index] + ctrlSettings.cssMeasureUnit, 'max-width': trow._columnWidths[$index] + ctrlSettings.cssMeasureUnit}"

                                        ng-model = "td.valueDev1"                                                            
                                        >                                                            
                                        <div ng-if = "td.cellType !== 'VALUE'">
                                            {{td.caption}}
                                        </div>
                                        <div ng-if = "td.cellType === 'VALUE' && (td.type === 'String' || td.type === 'DoubleAgg')"
                                             contenteditable
                                             strip-br
                                             ng-blur = "tdBlur(td)"
                                             ng-model = "td.valueDev"
                                             >
                                        </div>
                                        <input ng-if = "td.cellType === 'VALUE' && td.type === 'Boolean'" 
                                               type = "checkbox"
                                               ng-blur = "tdBlur(td)"
                                               ng-model = "td.valueDev"
                                               style = ""/>
                                        <input ng-if = "td.cellType === 'VALUE' && (td.type !== 'String' && td.type !== 'Boolean' && td.type !== 'DoubleAgg')" 
                                               type = "text"
                                               data-inputmask = "'alias':'numeric', 'greedy': false"
                                               style = "width: 100%; border: 0"
                                               ng-blur = "tdBlur(td)"
                                               ng-model = "td.valueDev"
                                               />

                                    </td>
                                </tr>
                            </table>
                        </div>
-->
<!--
                        <div ng-switch-default>
                            {{currentPassDocPart | json}}
                        </div>
-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>