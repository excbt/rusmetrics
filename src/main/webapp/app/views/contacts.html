<!-- Я остановился на добавлении галочек в чекбоксах
в окне редактирования контактов и групп контактов -->

<style type="text/css">
.main_tab_container {
	padding: 5px;
	background-color: #fff
}

.hidden_tab {
	display: none
}

.contact_table {
	width: 70%;
}
.contact_table tr td {
	padding: 3px;
	height: 40px;
}

.contact_table tr:nth-child(odd) {
	background: #dbdbdb
}

.contact_table tr:nth-child(even)  {
	background: #f5f5f5
}

.contact_table tr:hover {
	background: #bde0ff
}

.contact_table td {
	width: 30px;
	text-align: left;
}

.contact_table th {
	text-align: left;
	background: #c2c2c2;
	padding: 3px;
	height: 40px;
}
 
.contact_table td:first-child {
	text-align: center;
	width: 30px;
}

.contact_table_in_w {
	width: 100%;
}
.contact_table_in_w tr td {
	padding: 3px;
	height: 30px;
}

.contact_table_in_w tr:hover {
	background: #bde0ff;
}

.contact_table_in_w tr:nth-child(odd) {
	background: #dbdbdb;
}

.contact_table_in_w tr:nth-child(even)  {
	background: #f5f5f5;
}

.contact_table_in_w td {
	text-align: left;
}
.contact_table_in_w td:first-child {
	width: 15 px;
	text-align: center;
}

.modal_window_bg {
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	background: rgba(0,0,0,0.8);
	z-index: 99999;
	transition: opacity 400ms ease-in;
	display: block;
	pointer-events: auto;
}

.modal_window {
	width: 400px;
	height: 700px;
	position: absolute;
	top: 50%;
	left: 50%;
	margin-left: -200px;
	margin-top: -300px;
	padding: 50px;
	background: #fff;
	font-size: 14pt;
}

.half_screen {
	float: left;
	width: 30%;
}

.second_half_of_screen {
	float: left;
	width: 70%;
}

.list_in_window {
	border: 1px solid;
	border-color: #dddddd;
	height: 194px;
	background: #ffffff;
	overflow: auto;
}

.exbt_list_in_window {
	height: 180px;
	overflow: auto;
}
</style>

<script type="text/javascript">
/*
 * ToDo:
- Сделать удаление списка контактов
- Сделать добавление-удаление связей
- Сделать функцию добавления списка на сервер
- Удалить неиспользуемые стили
 */
	// Переключение вкладок
	function selectContacts () {
		document.getElementById('div_contacts').style.display = 'block';
		document.getElementById('div_contact_lists').style.display = 'none';
	}
	
	function selectLists () {
		document.getElementById('div_contacts').style.display = 'none';
		document.getElementById('div_contact_lists').style.display = 'block';
	}
</script>

<div>
    <ul class="breadcrumb">
        <li><a href="/#/">Портал</a> <span class="divider"></span></li>
        <li class="active">Контакты</li>
    </ul>
<!-- Вкладки -->
	<div role="tabpanel">
  	<!-- Навигационная полоса -->
		<ul class="nav nav-tabs" role="tablist">
    		<li role="presentation" class="active"><a href="" aria-controls="div_contacts"  role="tab" data-toggle="tab" onclick="selectContacts()">Контакты</a></li>
    		<li role="presentation" ><a href="" aria-controls="div_contacts" data-target="" role="tab" data-toggle="tab" onclick="selectLists()">Списки контактов</a></li>
		</ul>
	</div>
  <!-- реализация вкладок -->
  <div class="tab-content">
<!-- ???     Расписания-->
    <div role="tabpanel" class="tab-pane fade in active" id="timetables">
	</div>
</div>
    <!-- Содержимое вкладки с контактами -->
    <div id="div_contacts">

		<h2>Контакты</h2>
		<!-- Кнопка добавления контактов -->
		<div class="btn-group">
			<button class="btn btn-primary" data-target="#edit_contact" data-toggle="modal" ng-click="editItem('new', 'contact')">Добавить контакт</button>
		</div><br><br>	
		<!-- Таблица контактов -->
   		<table id="table_contacts" class="crud-grid table table-striped table-lighter table-condensed table-hover">
    		<tr id="tr_cnt_header" class="info">
    			<th class="col-md-1"></th>
    			<th class="col-md-4">Имя</th>
    			<th class="col-md-3">Телефон</th>
    			<th class="col-md-3">Электронная почта</th>
    			<th class="col-md-1"></th>
    		</tr>
    		<tr ng-repeat = "contact in contacts">
    			<td class="col-md-1">
    				<i title='Редактировать' class='btn btn-default btn-xs glyphicon glyphicon-edit' data-target="#edit_contact" ng-click='editItem(contact, "contact")' data-toggle="modal"></i>
    			</td>
    			<td class="col-md-4">{{contact.userName}}</td>
     			<td class="col-md-3">{{contact.userPhone}}</td>
    			<td class="col-md-3">{{contact.userEmail}}</td>
    			<td class="col-md-1">
    				<i title='Удалить' class='btn btn-default btn-xs glyphicon glyphicon-trash' ng-click='delContact(contact)'></i>
    			</td>
    		</tr>
    	</table>
    </div>
    <div id="div_contact_lists" class="hidden_tab">
		<h2>Списки контактов</h2>
		<!-- Кнопка добавления списков -->
		<div class="btn-group">
			<button class="btn btn-primary" ng-click="editItem('new', 'list')" data-target="#edit_list" >Добавить список</button>
		</div><br><br>    
		<table id="table_contact_lists" class="crud-grid table table-striped table-lighter table-condensed table-hover">
			<tr id="tr_cnt_header" class="info">
				<th class="col-md-1"></th>
    			<th class="col-md-10">Имя списка</th>
    			<th class="col-md-1"></th>
    		</tr>
    		<tr ng-repeat = "list in lists">
    			<td class="col-md-1">
    				<i title='Редактировать' class='btn btn-default btn-xs glyphicon glyphicon-edit' data-target="#edit_list" ng-click='editItem(list, "list")' data-toggle="modal"></i>
    			</td>
    			<td class="col-md-10">{{list.groupName}}</td>
    			<td class="col-md-1">
    			    <i title='Удалить' class='btn btn-default btn-xs glyphicon glyphicon-trash' ng-click='delList(list)'></i>
    			</td>
    		</tr>
		</table>	
    </div>
    
    <!-- Вспомогательные элементы -->
    <!-- Модальное окно редактирования контакта -->
    <div id="edit_contact" class="modal fade" role="dialog" aria-labelledby="showObjOptionLabel" tabindex="-1">
		<div class="modal-dialog  modal-content">
			<div class="modal-header">
				<h3 id="cnt_edit_w_header">Изменение контакта</h3>
			</div>
    		<div class="modal_body">
    		<br>
 	        	<div class="container-fluid">
 	            	<div class="row-fluid">
   	               		<div class="col-md-12 well noPaddingBottom marginBottom10" style="">
    						<div class="col-md-6">
    							<form>
	    							<label for="inp_cnt_name">Имя:</label>
    								<input id="inp_cnt_name" type="text" class="form-control" ng-model="currentItem.userName"/>
    								<br>
    								<label for="inp_cnt_tel">Телефон:</label>
    								<input id="inp_cnt_tel" type="text" class="form-control" ng-model="currentItem.userPhone"/>
    								<br>
    								<label for="inp_cnt_email">Электронная почта:</label>
    								<input id="inp_cnt_email" type="email" class="form-control" ng-model="currentItem.userEmail"/>
    							</form>
    						</div>
    						<div class="col-md-6">
    							<label for="list_in_window">Включить в группы:</label>
    							<div id="list_in_window" class="panel panel-default exbt_list_in_window">
    								<table id="table_lists_in_window" class = "table table-striped table-condensed table-hover">
    								    <tr ng-repeat = "small_list in small_lists">
   											<td><input id={{small_list.id}} type='checkbox' ng-model = "small_list.checked" /></td>
   											<td>{{small_list.groupName}}</td>
   										</tr>
    								</table>
    							</div>
    							<br>
    						</div>
    					</div>
    				</div>
    			</div>
    		</div>
	    	<div class="modal-footer">
    			<div class="container-fluid dialogMarginButtons">
					<div class="row">
                       	<div class="col-xs-offset-2 col-md-3">
							<input type="submit" class="btn btn-primary btn-block btn-xs"
								ng-click="addContact()"
								value="Сохранить" />
						</div>
						<div class=" pull-right col-xs-offset-2 col-md-3">
							<button class="btn btn-default btn-block btn-xs" data-dismiss="modal"
								ng-click="exit()">
								Отменить
							</button>
						</div>
					</div>
				</div>		
	    	</div>
    	</div>
    </div>
    
    <!-- Модальное окно редактирования списка контактов -->
    <div id="edit_list" class="modal fade" role="dialog" aria-labelledby="showObjOptionLabel" tabindex="-1">
		<div class="modal-dialog modal-content">
			<div class="modal-header">
				<h3 id="lst_edit_w_header">Изменение списка контактов</h3>
			</div>
    		<div class="modal_body">
    		<br>
 	        	<div class="container-fluid">
 	            	<div class="row-fluid">
   	               		<div class="col-md-12 well noPaddingBottom marginBottom10" style="">
   							<form>
    							<label for = "inp_lst_name">Имя:</label>
   								<input id = "inp_lst_name" type="text" class="form-control" ng-model="currentItem.groupName" />
   							</form>
   							<br>
   							<label for = "contacts_in_window">Включить контакты в список:</label>
   							<div id = "contacts_in_window" class = "panel panel-default exbt_list_in_window">
   								<table id="table_contacts_in_window" class = "table table-striped table-condensed table-hover"> 
    								<tr ng-repeat="small_contact in small_contacts">
   										<td><input id={{small_contact.id}} type='checkbox' ng-model='small_contact.checked' /></td>
   										<td>{{small_contact.userName}}</td>
   									</tr>  
   								</table>
   							</div>
   							<br>
     					</div>
    				</div>
    			</div>
    		</div>
	    	<div class="modal-footer">
    			<div class="container-fluid dialogMarginButtons">
					<div class="row">
                       	<div class="col-xs-offset-2 col-md-3">
							<input type="submit" class="btn btn-primary btn-block btn-xs"
								ng-click="addList()"
								value="Сохранить" />
						</div>
						<div class="pull-right col-xs-offset-2 col-md-3">
							<button class="btn btn-default btn-block btn-xs" data-dismiss="modal"
								ng-click="exit()">
								Отменить
							</button>
						</div>
					</div>
				</div>		
	    	</div>
    	</div>
    </div>
</div>