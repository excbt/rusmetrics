<div ng-show="loading">{{captions.msgLoading}}</div>

<!--Группировка-->
        <div ng-hide="bReports" ng-show="!bObject" class="form-actions">
            Группировки: 
            <div ng-show="!bGroupByObject&&!bObject">
                <button type="button" class="btn" ng-click="groupByObject()">по объектам</button>
                <button type="button" class="btn">по типу</button>
            </div>    
            <div ng-show="bGroupByObject&&!bObject">
                <button type="button" class="btn btn-primary">по объектам</button>
                <button type="button" class="btn">по типу</button>
                <span class="btn btn-default" ng-click="cancelGroup()"><i class="glyphicon glyphicon-remove"></i></span>
            </div>
            
            
            
        </div>
<!--Фильтр-->
<div ng-hide="bReports" ng-show="!bObject && !bGroupByObject">
    <div>
        Фильтры:
    </div>
    <div>
        <input type="checkbox" title="Показывать только новые еще непросмотренные записи" ng-model="onlyNoRead">Непросмотренные</input>
    </div>
</div>

<!-- Common filter-->
<div class="input-group col-md-5 row filter marginBottom10">
    
    <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
    <input type="text" class="form-control" ng-model="filter">
    <span class="input-group-addon btn btn-default" ng-disabled="filter.length == 0" ng-click="filter = ''"><i class="glyphicon glyphicon-remove"></i></span>
</div>

<!-- Create directory-->
<!--
<div ng-show="bdirectories">
    <i class="btn btn-default glyphicon glyphicon-plus" ng-class="{'glyphicon-minus': addMode, 'glyphicon-plus': !addMode}" ng-click="toggleAddMode()"></i>
</div>
-->

<table id="datatabl" class="table table-bordered table-condensed noMarginBottom">
  
     <tr class="info" >
<!--         ng-hide="bdirectories">-->
<!--         off head for page Directories-->
         
<!--         ng-show="!bGroupByObject">  -->
<!--         отключить шапку для групп объектов-->
         
         
         <td style="padding:0;">
             <table class="crud-grid table table-lighter table-bordered table-condensed table-hover noMarginBottom">
                 <tr class="info">
<!--                                          Если включена группировка и объект первый в массиве, то выводим шапку таблицы                       -->
                       <th ng-show="bGroupByObject || bObject" class="col-md-1">                         
                <!--            <div class="btn-toolbar"><i class="btn btn-default glyphicon" ng-class="{'glyphicon-minus': addMode, 'glyphicon-plus': !addMode}" ng-click="toggleAddMode()"></i></div>-->
                           
                        </th>

                <!--       Шапка таблицы-->
                        <th ng-repeat="column in columns" ng-class="column.class" ng-click="setOrderBy(column.name)">
                            <div>
                                {{column.header || column.name}}
                                <i class="glyphicon" ng-class="{'glyphicon-sort-by-alphabet': orderBy.asc, 'glyphicon-sort-by-alphabet-alt': !orderBy.asc}" ng-show="orderBy.field == '{{column.name}}'"></i>
                            </div>
                        </th>
                     <th ng-show="bObject" class="col-md-1"> 
<!--
                <div class="btn-toolbar">
                    <div class="btn-group">
                        <i class="btn btn-default btn-xs glyphicon glyphicon-edit" ng-click=""></i>
                        <i class="btn btn-default btn-xs glyphicon glyphicon-list" ng-click=""></i>
                    </div>    
                </div>
-->
                
                        </th>
                     
<!--                     Extra column for directory buttons-->
<!--                      <th ng-show="bdirectories" class="col-md-2"> -->
<!--                          button "Add" for directories-->
<!--                           <i class="btn btn-default btn-xs glyphicon glyphicon-plus" ng-class="{'glyphicon-minus': addMode, 'glyphicon-plus': !addMode}" ng-click="toggleAddMode()"></i>-->
<!--
                <div class="btn-toolbar">
                    <div class="btn-group">
                        <i class="btn btn-default btn-xs glyphicon glyphicon-edit" ng-click=""></i>
                        <i class="btn btn-default btn-xs glyphicon glyphicon-list" ng-click=""></i>
                    </div>    
                </div>
-->
                
<!--                    </th>-->
                     
                     
                </tr> 
                 
<!--
                <tr ng-show="addMode">
                    
                    <td ng-repeat="column in columns" ng-switch="!column.lookup" ng-class="column.class">
                        <input ng-switch-default ng-model="object[column.name]" ng-disabled="column.autoincrement" class="form-control"/>
                        <select ng-switch-when="false" ng-options="l[column.lookup.key] as l[column.lookup.value] for l in getLookupData(column.lookup.table) | orderBy: column.lookup.orderBy.field:!column.lookup.orderBy.asc" ng-show="column.lookup" ng-model="object[column.name]" class="form-control"></select>
                    </td>
                    <td class="col-md-2">
                        <div class="btn-toolbar">
                            <div class="btn-group">
                                <i class="btn btn-default btn-xs glyphicon glyphicon-save" ng-click="addObject()"></i>
                                <i class="btn btn-default btn-xs glyphicon glyphicon-remove" ng-click="toggleAddMode()"></i>
                            </div>
                        </div>
                    </td>
                </tr> 
-->
                 
            </table>     
        </td>          
     </tr>
    

<!--      Фильтры по колонкам  -->
<!--    <tr class="info" ng-show="!bGroupByObject">
        <td ng-show="bGroupByObject" >
            <div class="btn-toolbar"><i class="btn btn-default glyphicon" ng-class="{'glyphicon-minus': addMode, 'glyphicon-plus': !addMode}" ng-click="toggleAddMode()"></i></div>
        </td>
        <td ng-repeat="column in columns" ng-class="column.class">
            <div>
                <input type="text" class="form-control" ng-model="filterType">
            </div>
        </td>
    </tr>    -->
<!--    End фильтры по колонкам-->

       
    
<!--  Постороение таблицы с данными  -->
    <tr ng-repeat="object in objects | orderBy:orderBy.field:!orderBy.asc | filter: filter" ng-click="selectedItem(object)" ng-show="showRow(object)" ng-dblclick="showDetails(object)">
        <td style="padding:0;"><!--    <td> Уровень 1     -->
            <table class="crud-grid table table-lighter table-bordered table-condensed table-hover noMarginBottom"> <!--    <table> Уровень 2     -->
            

                <tr><!--    <tr> Уровень 3     -->
<!-- этот столбец отображается, когда включена группировка или отображается иерархия объектов-->
            <td ng-show="bGroupByObject || bObject" ng-hide="bReports" class="col-md-1 noMargin" style="padding:0;">
                <div class="btn-toolbar">
<!--                    <div  class="noMargin">-->
                        <i ng-show="bGroupByObject" class="btn btn-default btn-xs glyphicon noMargin" ng-class="{'glyphicon-minus': object.showGroupDetails, 'glyphicon-plus': !object.showGroupDetails}" ng-click="toogleShowGroupDetails(object); selectedItem(object)"></i>
<!--                    </div>-->
    <!--                data-target="#showObjectDetailModal" data-toggle="modal"-->           
    <!--                Эта кнопка доступна, когда отображаются объекты-->
<!--                    <div  class="noMargin">-->
                        <i ng-show="bObject" class="btn btn-default btn-xs glyphicon noMargin" ng-class="{'glyphicon-minus': object.showGroupDetails, 'glyphicon-plus': !object.showGroupDetails}" ng-click="showObjectDetails(object); toogleShowGroupDetails(object);selectedItem(object)"></i>
<!--                    </div>-->

    <!--                Кнопка для открытия параметров объекта-->
<!--                    <div >            -->
<!--                        <i class="btn btn-default btn-xs glyphicon glyphicon-list" ng-click="selectedItem(object)" data-target="#showObjectOptionModal" data-toggle="modal"></i>-->

<!--                     </div>-->
                </div>        
                
            </td>
            <td ng-show="bReports">
                <div ng-show="bObject" class="btn-toolbar noMargin"><input type="checkbox" ng-click="toggleSelectObject(object)"></div>
            </td>
            
<!--       Extra column for Add mode in page of directories-->
<!--
            <td ng-show="bdirectories" class="col-md-1">
            </td>
-->

    <!--  Выводим данные в соответствующие столбцы таблицы  -->
            <td ng-repeat="column in columns" ng-class="column.class" ng-switch on="object.editMode" >
                <div ng-switch-default ng-switch on="!column.lookup">
                    <span ng-switch-default>
    <!--                    В зависимости от названия столца делаем соответствующую разметку-->
                        <div ng-switch on="column.name">
    <!--                        Если в столбце должна отображаться категория, то...-->
                            <span ng-switch-when="noticeCat">
    <!--                                Смотрим какая категория у уведомления и выводим соответствующий значок-->
                                <div ng-switch on="object[column.name]">
                                    <span ng-switch-when="Критическая"><img height=16 width=16 src="images/crit.png"></span>
                                    <span ng-switch-when="Предупреждение"><img height=16 width=16 src="images/alert.png"></span>
                                    <span ng-switch-when="Информация"><img height=16 width=16 src="images/info-icon.jpg"></span>
                                    <span ng-switch-default>no define</span>
                                </div>
                            </span>
                            <span ng-switch-when="critCount">
                                <img height=16 width=16 src="images/crit.png"> {{object[column.name]}}
                            </span> 
                            <span ng-switch-when="warnCount">
                                <img height=16 width=16 src="images/alert.png"> {{object[column.name]}}
                            </span> 
                            <span ng-switch-when="infoCount">
                                <img height=16 width=16 src="images/info-icon.jpg"> {{object[column.name]}}
                            </span> 
                            <span ng-switch-when="commonCount">
                                Всего: {{object[column.name]}}
                            </span>

    <!--                        По дефолту выводим содержимое данной ячейки-->
                            <span ng-switch-default>
                                <div ng-show="!object.isRead"><b>
                                    {{object[column.name]}}
                                    </b></div>
                                <div ng-show="object.isRead">
                                    {{object[column.name]}}
                                    </div>
                            </span>
                        </div>
                    </span>
                    <span ng-switch-when="false"> {{ getLookupValue(column.lookup, object[column.name]) }} </span>
                </div>

                <div ng-switch-when="true" ng-switch on="!column.lookup">
                    <input ng-switch-default ng-model="object[column.name]" model-change-blur ng-disabled="column.autoincrement" class="form-control" />
                    <select ng-switch-when="false" ng-options="l[column.lookup.key] as l[column.lookup.value] for l in getLookupData(column.lookup.table) | orderBy: column.lookup.orderBy.field:!column.lookup.orderBy.asc" ng-model="object[column.name]" class="form-control"></select>
                </div>
                     
            </td>
<!-- Колонка для редактирования объектов                   -->
            <td ng-show="bObject" ng-hide="bReports || bList" class="col-md-1"> 
                <div class="btn-toolbar">
                    <div class="btn-group">
                        <table>
                            <tr>
                                <td><i class="btn btn-default btn-xs glyphicon glyphicon-edit" ng-click="" ></i> </td>
                                <td><i class="btn btn-default btn-xs glyphicon glyphicon-list" ng-click="selectedItem(object)" data-target="#showObjectOptionModal" data-toggle="modal"></i></td>                                
                            </tr>
                        </table>    
                    </div>    
                </div>
                
            </td>
                    
<!-- Колонка для формирования отчетов по объектам                   -->
            <td ng-show="bObject" ng-hide="!bReports" class="col-md-1"> 
                <div class="btn-toolbar">
                    <div class="btn-group">
                        <table>
                            <tr>
                                <td><i class="btn btn-default btn-xs glyphicon glyphicon-play" ng-click="getReport(object, 'html')" title="Сформировать"></i> </td>
                                <td><i class="btn btn-default btn-xs glyphicon" ng-click="getReport(object, 'pdf')">PDF</i></td>                                
                            </tr>
                        </table>    
                    </div>    
                </div>
                
            </td>
                    
<!--                    Buttons for directories-->
<!--
            <td ng-show="bdirectories" class="col-md-2"> 
                <div class="btn-toolbar">
                    <div class="btn-group">
                        <table>
                            <tr>
                                <td ng-show="!object.editMode"><i class="btn btn-default btn-xs glyphicon glyphicon-edit" ng-click="toggleEditMode(object)" ></i> </td>
                                <td ng-show="object.editMode"><i class="btn btn-default btn-xs glyphicon glyphicon-save" ng-click="toggleEditMode(object)" ></i> </td>
                                <td><i class="btn btn-default btn-xs glyphicon glyphicon-list" ng-click="selectedItem(object)" data-target="#showDirectoryStructModal" data-toggle="modal"></i></td>
                                <td><i class="btn btn-default btn-xs glyphicon glyphicon-pencil" ng-click="selectedItem(object); getCurDirParams()" data-target="#editDirectoryParamsModal" data-toggle="modal"></i> </td>
                                <td><i class="btn btn-default btn-xs glyphicon glyphicon-remove" ng-click="setCurObjToDel(object, extraProps.idColumnName, extraProps.deleteConfirmationProp)" data-target="#deleteObjectModal" data-toggle="modal"></i></td>
                            </tr>
                        </table>    
                    </div>    
                </div>
                
            </td>        
-->
                </tr><!--    </tr> Уровень 3     -->
                <tr><!--    <tr> Уровень 3     -->
                    
                    
                    <!--          Внутренняя(раскрывающая) таблица с данными    -->
				<table id="dataZpointTabl" class="crud-grid table table-lighter table-bordered table-condensed table-hover" ng-show="object.showGroupDetails">
                    <tr>
                        <!--       Шапка таблицы-->
                        <th ng-repeat="oldColumn in oldColumns" ng-class="oldColumn.class" ng-click="setOrderBy(oldColumn.name)">
                            <div>
                                {{oldColumn.header || oldColumn.name}}
                                <i class="glyphicon" ng-class="{'glyphicon-sort-by-alphabet': orderBy.asc, 'glyphicon-sort-by-alphabet-alt': !orderBy.asc}" ng-show="orderBy.field == '{{oldColumn.name}}'"></i>
                            </div>
                        </th>
<!--                        Колонка для кнопок-->
                        <th ng-show="bObject" class="col-md-1">
                        </th>
                    </tr>
                     <tr ng-repeat="oldObject in oldObjects | orderBy:orderBy.field:!orderBy.asc | filter: currentObject.name" ng-click="selectedItem(oldObject)" ng-dblclick="getIndicators(oldObject)">
                         <td ng-repeat="oldColumn in oldColumns">
                             <div ng-switch on="oldColumn.name">
    <!--                        Если в столбце должна отображаться категория, то...-->
                            <span ng-switch-when="noticeCat">
    <!--                                Смотрим какая категория у уведомления и выводим соответствующий значок-->
                                <div ng-switch on="oldObject[oldColumn.name]">
                                    <span ng-switch-when="Критическая"><img height=16 width=16 src="images/crit.png"></span>
                                    <span ng-switch-when="Предупреждение"><img height=16 width=16 src="images/alert.png"></span>
                                    <span ng-switch-when="Информация"><img height=16 width=16 src="images/info-icon.jpg"></span>
                                    <span ng-switch-default>{{oldObject[oldColumn.name]}}</span>
                                </div>
                            </span> 
                            <span ng-switch-when="zpointType">
    <!--                                Смотрим какая категория у уведомления и выводим соответствующий значок-->
                                <div ng-switch on="oldObject[oldColumn.name]">
                                    <span ng-switch-when="hw"><img height=16 width=16 src="images/gvs.png"></span>
                                    <span ng-switch-when="heat"><img height=16 width=16 src="images/ts.png"></span>
                                    <span ng-switch-when="HVS"><img height=16 width=16 src="images/hvs.png"></span>
                                    <span ng-switch-when="GS"><img height=16 width=16 src="images/gaz.png"></span>
                                    <span ng-switch-when="ES"><img height=16 width=16 src="images/es.png"></span>
                                    <span ng-switch-default>{{oldObject[oldColumn.name]}}</span>
                                </div>
                            </span>      
    <!--                        По дефолту выводим содержимое данной ячейки-->
                            <span ng-switch-default>
                                    {{oldObject[oldColumn.name]}}
<!--                                Раскрываем группировку-->
                            </span>
                        </div>
                         </td>
                         
                         <!-- Колонка для редактирования элементов                   -->
                            <td ng-show="bObject" class="col-md-1"> 
                                <div class="btn-toolbar">
                                    <div class="btn-group">
                                        <table>
                                            <tr>
                                                <td><i class="btn btn-default btn-xs glyphicon glyphicon-edit" ng-click="" ></i> </td>
                                                <td><i class="btn btn-default btn-xs glyphicon glyphicon-list" ng-click="selectedItem(oldObject)" data-target="#showZpointOptionModal" data-toggle="modal"></i></td>
                                            </tr>
                                        </table>    
                                    </div>    
                                </div>

                            </td>
                         
                             
                     </tr>
                    </table>
<!--
                    <table>
                        <tr>
                            <td ng-show="object.showGroupDetails">hello</td>
                        </tr>
                    </table>
-->
                
                
                </tr><!--    <tr> Уровень 3     -->

                    
            </table>  <!--    </table> Уровень 2     -->
<!--    </td> Уровень 1     -->
    </td>     
    </tr>
    <!--        End Построение таблицы с данными-->
    <tr>
        <td>
            
        </td>
    </tr>
</table>

          
    

<!-- Нижняя полоса с описанием количества объектов и элементов учета-->
<div ng-show="bObject||bdirectories" class="navbar navbar-default  " style="margin-bottom:60px; margin-top:20px;">
                                                    <!--    navbar-fixed-bottom-->
    <div id="navbar-container" class="container navbar-left">
      
            		
              <ul class="nav navbar-nav ">
				
				<li><p
							 style="margin-right:5px;padding-top:15px;"> <b>Всего: {{objects.length}}</b>  
				    </p>
                </li>
               
                			
			     <li ng-show="bReports" style="margin-right:5px;padding-top:15px;"><p
							class="displayInLine"> <b>Выбрано объектов: {{selectedObjectsCount}}</b>  
				    </p>
                </li>
                
                  <li>
                      <div class="pull-right btn-toolbar" ng-show="bReports">
                        <div class="btn-group">
                            <i class="btn btn-default btn-sm glyphicon" ng-click="getReports()" ng-disabled="{{selectedObjectsCount>0}}"> Сформировать отчеты в формате PDF для выбранных обеъектов</i>  
                        </div>    
				    
        </div>
                  </li>
                  
                 
				
			</ul>
                
					
			</div>
</div>



<!--Show object options-->
<div id="showObjectOptionModal" class="modal fade" role="dialog"
	aria-labelledby="showObjectOptionLabel" tabindex="-1">

	<div class="modal-dialog  modal-content">

		<div class="modal-header">
			<h3 id="showObjectOptionLabel">
				Свойства объекта "{{currentObject.fullName}}"
			</h3>
		</div>
		<div class="modal-body">
                    

<!--               <div> 

                   <div class="row">
                       <div class="span2">
                           Наименование
                       </div>
                       <div class="span8">
                           <input type="text"/>
                       </div>
                   </div>  
                   <div class="row">
                       <div class="span2">
                           описание
                       </div>
                       <div class="span2">
                           <input type="text"/>
                       </div>
                   </div>  
-->
                   
                   <table class="table table-lighter table-striped table-condensed table-hover">
                     
                       <tr>
                           <td ><div class="pull-right">Наименование</div></td><td><input type="text"/></td>
                        </tr>
                       <tr>
                           <td><div class="pull-right">Описание</div></td><td><input type="text"/></td>
                        </tr>
                       <tr>
                           <td><div class="pull-right">Адрес</div></td><td><input type="text"/></td>
                        </tr>
                       <tr>
                           <td><div class="pull-right">Режим функционирования</div></td>
                           <td><select>
                                   <option>Летний</option>
                                   <option>Зимний</option>
                                   <option>Не определено</option>
                               </select>
                           </td>
                        </tr>
                       <tr>
                           <td><div class="pull-right">Температура холодной воды</div></td><td><input type="text"/></td>
                        </tr>
                       <tr>
                           <td><div class="pull-right">РСО:</div></td>
                       </tr>tr>
                        <tr>
                            <td></td>
                           <td>
                               <table>
                                   <tr>
                                       <td> Теплоснабжение
                                       </td>
                                       <td>
                                           <select>
                                            <option>Теплоснабжающая организация №1</option>
                                            <option>Теплоснабжающая организация №2</option>
                                            <option>Теплоснабжающая организация №3</option>
                                           </select>
                                       </td>
                                   </tr>
                                   <tr>
                                       <td> ГВС
                                       </td>
                                       <td>
                                           <select>
                                            <option>ООО "Горячая вода №1"</option>
                                            <option>ООО "Горячая вода №2"</option>
                                            <option>ООО "Горячая вода №3"</option>
                                           </select>
                                       </td>
                                   </tr>
                                   <tr>
                                       <td> ХВ
                                       </td>
                                       <td>
                                           <select>
                                            <option>МГУП "Хол вода" №1</option>
                                            <option>МГУП "Хол вода" №2</option>
                                            <option>МГУП "Хол вода" №3</option>
                                           </select>
                                       </td>
                                   </tr>
                                   <tr>
                                       <td> Газ
                                       </td>
                                       <td>
                                           <select>
                                            <option>Облгазоснабжающая организация №1</option>
                                            <option>Райгазоснабжающая №2</option>
                                            <option>КакаяТоМестная Газаоснабжающая организация №3</option>
                                           </select>
                                       </td>
                                   </tr>
                                   <tr>
                                       <td> Электричество
                                       </td>
                                       <td>
                                           <select>
                                            <option>Обл электросеть №1</option>
                                            <option>Рай электросеть №2</option>
                                            <option>Ад электросеть №3</option>
                                           </select>
                                       </td>
                                   </tr>
                                   <tr>
                                       <td> Пароснабжение
                                       </td>
                                       <td>
                                           <select>
                                            <option>Вообще откуда это взялось №1</option>
                                            <option>Откда это №2</option>
                                            <option>Что это №3</option>
                                           </select>
                                       </td>
                                   </tr>
                               
                                </table>   
                            </td>
                        </tr>
                       <tr>
                           <td><div class="pull-right">УК</div></td>
                           <td><select>
                                <option>Упр комп №1</option>
                                <option>Упр комп №2</option>
                                <option>Упр комп №3</option>
                               </select>
                           </td>
                        </tr>
<!--
                       <tr>
                           <td><div class="pull-right">Тарифы</div></td><td><input type="text"/></td>
                        </tr>
-->
                       <tr>
                           <td><div class="pull-right">Отапливаемая площадь</div></td><td><input type="text"/></td>
                       </tr>
                   </table>
             


			
		</div>
		<div class="modal-footer">
				<div class="container-fluid dialogMarginButtons">

					<div class="row">
                        <div class="col-xs-offset-2 col-md-3">
							<input type="submit" class="btn btn-primary btn-block btn-xs"
								ng-click="saveObject(targetTableName, currentObjectToDel[extraProp.idColumnName]);"
								value="Сохранить" />
						</div>
						<div class=" pull-right col-xs-offset-2 col-md-3">
							<button class="btn btn-default btn-block btn-xs" data-dismiss="modal"
								ng-click="exit('#currentObject')">
								Отменить
							</button>
						</div>
					</div>
				</div>		
		</div>
		<span class="alert alert-error dialogErrorMessage"
			ng-show="errorOnSubmit"> Request error
		</span> <span class="alert alert-error dialogErrorMessage"
			ng-show="errorIllegalAccess"> Request illegal access
		</span>
	</div>
</div>


<!--Show Zpoint options-->
<div id="showZpointOptionModal" class="modal fade" role="dialog"
	aria-labelledby="showZpointOptionLabel" tabindex="-1">

	<div class="modal-dialog  modal-content">

		<div class="modal-header">
			<h3 id="showZpointOptionLabel">
				Свойства точки учета "{{currentObject.fullName}}"
			</h3>
		</div>
		<div class="modal-body">
                    

               <div> 
                   <table class="table table-lighter table-striped table-condensed table-hover">
                     
                       <tr>
                           <td>Наименование</td><td><input type="text"/></td>
                        </tr>
                       <tr>
                           <td>Тип</td>
                           <td>
                               <input type=text disabled="true" value="ГВС"/>
                               <input type="radio" name="tubes">Однатрубная</input>
                                <input type="radio" name="tubes">Двухтрубная</input>
                           </td>
                           <td>
                           </td>
                        </tr>
                       <tr>
                           <td>Прибор</td>
                           <td><select>
                                    <option>Прибор 1</option>
                                    <option>Прибор такой-то</option>
                                    <option>Приборррррррррррррррр</option>
                                   
                               </select>
                           </td>
                        </tr>
 
                       <tr>
                           <td>Расчетный час</td><td><input type="text"/></td>
                        </tr>
                       <tr>
                           <td>Расчетный день</td><td><input type="text"/></td>
                        </tr>

                       <tr>
                           <td>Рабочие режимы потребления:</td>
                           <td>
                               <TABLE>
                                   <tr>
                                       <td><input type="checkbox" title="M1"/>М1
                                       </td>
                                       <td>
                                           от
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           до
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           т/час
                                       </td>
                                   </tr>
                                   <tr>
                                       <td><input type="checkbox" title="M2"/>М2
                                       </td>
                                       <td>
                                           от
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           до
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           т/час
                                       </td>
                                   </tr>
                                   <tr>
                                       <td><input type="checkbox" title="Т1"/>Т1
                                       </td>
                                       <td>
                                           от
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           до
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           &deg;C
                                       </td>
                                   </tr>
                                   <tr>
                                       <td><input type="checkbox" title="Т2"/>Т2
                                       </td>
                                       <td>
                                           от
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           до
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           &deg;C
                                       </td>
                                   </tr>
                                   <tr>
                                       <td><input type="checkbox" title="Р1"/>Р1
                                       </td>
                                       <td>
                                           от
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           до
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           ат
                                       </td>
                                   </tr>
                                   <tr>
                                       <td><input type="checkbox" title="Р2"/>Р2
                                       </td>
                                       <td>
                                           от
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           до
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           ат
                                       </td>
                                   </tr>
                                   <tr>
                                       <td><input type="checkbox" title="&Delta;Q"/>&Delta;Q
                                       </td>
                                       <td>
                                           от
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           до
                                       </td>
                                       <td>
                                           <input type=text/>
                                       </td>
                                       <td>
                                           ГКал/сут
                                       </td>
                                   </tr>
                               </TABLE>
                           </td>
                        </tr>

                   </table>
                </div> 


			
		</div>
		<div class="modal-footer">
				<div class="container-fluid dialogMarginButtons">

					<div class="row">
                        <div class="col-xs-offset-2 col-md-3">
							<input type="submit" class="btn btn-primary btn-block btn-xs"
								ng-click="saveObject(targetTableName, currentObjectToDel[extraProp.idColumnName]);"
								value="Сохранить" />
						</div>
						<div class=" pull-right col-xs-offset-2 col-md-3">
							<button class="btn btn-default btn-block btn-xs" data-dismiss="modal"
								ng-click="exit('#currentObject')">
								Отменить
							</button>
						</div>
					</div>
				</div>		
		</div>
		<span class="alert alert-error dialogErrorMessage"
			ng-show="errorOnSubmit"> Request error
		</span> <span class="alert alert-error dialogErrorMessage"
			ng-show="errorIllegalAccess"> Request illegal access
		</span>
	</div>
</div>


<!--Context menu-->
<script>
//    <!--Context menu for object-->
    $(function($scope){
        $('#datatabl').contextMenu({
            selector: 'tr', 
            callback: function(key, options) {
//                var m = "clicked: " + key + " on " + $(this).text();
//                window.console && console.log(m) || alert(m); 
//var str = "";                
//for (var k in options){                
//console.log("options["+k+"]= "+options[k]);
//    for (var j in options[k]){
//        console.log("options["+k+"]["+j+"]= "+options[k][j]);
//    };
//}

                if ("options"==key){
                    $('#showObjectOptionModal').modal();
                };
            },
            items: {
                "watch": {name: "Посмотреть", icon: ""},
                "options": {name: "Свойства", icon: ""}
//                ,
//                "delete": {name: "Delete", icon: "delete"},
//                "sep1": "---------",
//                "quit": {name: "Quit", icon: "quit"}
            }
        });
    });
    
//    <!--Context menu for zpoint-->
    $(function($scope){
        $('#dataZpointTabl').contextMenu({
            selector: 'tr', 
            callback: function(key, options) {
//                var m = "clicked: " + key + " on " + $(this).text();
//                window.console && console.log(m) || alert(m); 
//var str = "";                
//for (var k in options){                
//console.log("options["+k+"]= "+options[k]);
//    for (var j in options[k]){
//        console.log("options["+k+"]["+j+"]= "+options[k][j]);
//    };
//}

                if ("options"==key){
                    $('#showZpointOptionModal').modal();
                };
            },
            items: {
                "watch": {name: "Посмотреть!", icon: ""},
                "options": {name: "Свойства", icon: ""}
//                ,
//                "delete": {name: "Delete", icon: "delete"},
//                "sep1": "---------",
//                "quit": {name: "Quit", icon: "quit"}
            }
        });
    });
    
</script>
